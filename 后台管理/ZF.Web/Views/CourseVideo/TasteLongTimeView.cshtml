<div class="box-body">
    <div class="col-xs-12">
        <div class="form-group" style="margin-top: 15px;">
            <input type="hidden" Id="Id" name="Id" value="@ViewBag.ChapterId" />
            <input id="TasteLongTime" placeholder="时长" name="TasteLongTime" type="number" min="1" value="1" class="form-control" style="width: 179px; display: inline-block" />
            <button class="btn btn-primary" onclick="save();" id="sumbit">确认</button>
        </div>
    </div>
</div>
<script type="text/javascript">
    function save() {
        if ($("#TasteLongTime").val()) {
            if (/^\+?[1-9][0-9]*$/.test($("#TasteLongTime").val())) {
                topevery.ajax(
                    {
                        url: "api/CourseVideo/UpdateVideoTasteLongTime",
                        data: JSON.stringify({ ChapterId: $("#Id").val(), TasteLongTime: $("#TasteLongTime").val() })
                    },
                    function (data) {
                        if (data.Result.Success) {
                            layer.msg(data.Result.Message, {
                                icon: 1,
                                title: false, //不显示标题
                                offset: 'auto',
                                time: 3000, //10秒后自动关闭
                                anim: 5
                            });
                            $(".layui-layer-close")[1].click();
                            parent.CourseVideo();
                        }
                    });
            } else {
                layer.alert("数量必须为整数!");
            }
        } else {
            layer.alert("数量不能为空!");
        }
    }
</script>